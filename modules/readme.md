# Каталог `modules`

Каталог `modules` містить модулі, які відповідають за основні функціональні можливості системи. Кожен модуль є окремим блоком коду, що забезпечує виконання конкретних завдань. 

## Структура

- **`main`**: Основний модуль, який викликається за замовчуванням, якщо інші модулі не знайдені або не визначені.
- Кожен модуль представлений як окрема директорія з необхідними файлами:
  - `index.php` — головний файл модуля.
  - Інші файли та ресурси, необхідні для роботи модуля.

## Логіка роботи

1. **Підключення модуля**:
   - Якщо директорія модуля існує, спочатку перевіряється наявність вкладених файлів і директорій.
   - У випадку відсутності вкладених елементів, завантажується файл `index.php` з директорії модуля.
   - Якщо ні директорії, ні файли модуля не знайдені, завантажується модуль `main`.

2. **Пріоритет завантаження**:
   - Модуль шукається відповідно до параметрів запиту: `base`, `path`, `subpath`, `section`.
   - Пріоритет пошуку:
     1. Файл `section.php` у вкладеній директорії.
     2. Файл `index.php` у вкладеній директорії.
     3. Файл `section.php` у батьківській директорії.
     4. Файл `index.php` у батьківській директорії.
     5. Модуль `main`.

## Вимоги до модулів

1. **Файл `index.php`**:
   - Кожна директорія модуля має містити файл `index.php` як точку входу.

2. **Структура директорії модуля**:
   - Може містити піддиректорії та додаткові файли для логіки, стилів, скриптів тощо.

3. **Безпека**:
   - Перевірка та підключення файлів виконується через методи класу `direct`, які гарантують, що підключаються лише існуючі файли.

## Основний модуль `main`

Модуль `main` є точкою повернення для системи, якщо:
- Потрібний модуль не знайдено.
- Жоден з параметрів `base`, `path`, `subpath`, `section` не співпадає з існуючими шляхами.

Файл `main/index.php` повинен містити код, що обробляє типові запити та надає користувачу базову інформацію або перенаправляє його.

## Як створити новий модуль

1. **Створіть нову директорію**:
   - Назва директорії має відповідати функціоналу модуля.
   - Наприклад: `user`, `products`, `orders`.

2. **Додайте файл `index.php`**:
   - Це обов'язковий файл, який виконує основні операції модуля.

3. **За необхідності додайте додаткові файли**:
   - Логіка, стилі, скрипти, зображення та інші ресурси.

4. **Перевірте підключення**:
   - Використовуйте параметри запиту (`base`, `path`, `subpath`, `section`) для тестування модуля.

## Приклад модуля

```
modules/ 
├── user/ 
└── ├── index.php 
    └── profile.php 
```

### Структура

### Код модуля `user/index.php`

```php
<?php
// Захист від прямого доступу
if (!defined('SECURITY_LIVECMS')) {
    die('Прямий доступ заборонений');
}

// Основна логіка модуля "user"
echo "Ласкаво просимо до модуля користувачів!";